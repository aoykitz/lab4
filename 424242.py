def naive_search(text, pattern):
    positions = []
    n = len(text)
    m = len(pattern)
    
    for i in range(n - m + 1):
        match = True
        for j in range(m):
            if text[i + j] != pattern[j]:
                match = False
                break
        if match:
            positions.append(i)
    
    return positions

def binary_search(terms, search_term):
    low = 0
    high = len(terms) - 1
    results = []
    
    while low <= high:
        mid = (low + high) // 2
        current_term = terms[mid][0].lower()
        
        if current_term.startswith(search_term.lower()):
            results.append(terms[mid])
            
            i = mid - 1
            while i >= 0 and terms[i][0].lower().startswith(search_term.lower()):
                results.append(terms[i])
                i -= 1
            
            i = mid + 1
            while i < len(terms) and terms[i][0].lower().startswith(search_term.lower()):
                results.append(terms[i])
                i += 1
            
            break
        elif terms[mid][0].lower() < search_term.lower():
            low = mid + 1
        else:
            high = mid - 1
    
    return results


dictionary_text = """А, союз. 1. Соединяет предложения или члены предложения, выражая противопоставление, сопоставление. Он поехал, а я остался. Пиши ручкой, а не карандашом. Красив, а не умен. 2. Присоединяет предложения или члены предложения со значением добавления чего-н. при последовательном изложении, со значением пояснения, возражения, усиления, перехода к другой мысли. На горе дом, а под горой ручей. Было бы болото, а черти найдутся (посл.). Что ты. сегодня делаешь? а завтра? Он не виноват. - А кто же виноват, если не он? 3. Употр. в начале вопросительных и восклицательных предложений, а также в начале речи для усиления выразительности, убедительности (часто в сочетании с местоимениями, наречиями, другими союзами). А как нам будет весело! А все-таки я не согласен. * А также (и), союз - выражает присоединение, усилительное или сопоставительное добавление. Умелый водитель, а также и слесарь. Снимается в кино, а также и на телевидении. А то - 1) союз, в противном случае, иначе. Спеши, а то опоздаешь; 2) в действительности же, а на самом деле. Если бы было так, а то все наоборот; А то! (а то как же!) (прост.) - в ответной реплике выражает: 1) уверенное согласие, подтверждение. Замерз? - А то! Мороз на дворе; 2) ироническое несогласие, отрицание: Он пойдет?-А то! Дожидайся! А не то, союз - то же, что а то (в 1 знач.). А то и, союз - присоединяет сообщение о чем-н. нежелательном или неожиданном. Накричит, а то и побьет. 

А2, частица (разг.). 1. Обозначает вопрос или отклик на чьи-н. слова. Пойдем гулять, а? Почему ты не отвечаешь? - А? Что такое? 2. Усиливает обращение. Ваня, а Ваня! 3. [произносится с различной степенью длительности]. Выражает уяснение, удовлетворенное понимание. А-а, так это были вы! Почему ты не звонил? - Не работал телефон! - А-а! А-а, так ват в чем дело! 

А3 [произносится с различной степенью длительности], межд. Выражает досаду, горечь, а также удивление, злорадство и другие подобные чувства. Что я наделал? - А-а! А, попался! 

А..., приставка. Образует существительные и прилагательные со знач. отсутствия (в словах с иноязычным корнем), то же, что \"не\", напр. асимметрия, алогичный, аморальный, аритмичный, асинхронный. 

АБАЖУР, -а, м. Колпак для лампы, светильника. Зеленый а. 

АБАЗИНСКИЙ, -ая, -ое. 1. см. абазины. 2. Относящийся к абазинам, к их языку, национальному характеру, образу жизни, культуре, а также к территории их проживания, ее внутреннему устройству, истории; такой, как у абазин. А. язык (абхазско-адыгейской группы кавказских языков). По-абазински (нареч.). 

АБАЗИНЫ, -ин, ед. -инец, -нца, м. Народ, живущий в Карачаево-Черкесии и в Адыгее. 

АББАТ, -а, м. 1. Настоятель мужского католического монастыря. 2. Католический священнослужитель. 

АББАТИСА, -ы, ж. Настоятельница женского католического монастыря. 

АББАТСТВО, -а, ср. Католический монастырь. 

АББРЕВИАТУРА, -ы, ж. В словообразовании: существительное, образованное из усеченных отрезков слов (напр., исполком, комсомол), из таких же отрезков в сочетании с целым словом (напр., роддом, запчасти), а также из начальных звуков слов или названий их начальных букв (напр., вуз, АТС, МХАТ, ЭВМ, СКВ), сложносокращенное слово. 

АБЕРРАЦИЯ, -и, ж. (спец.). Отклонение от чего-н., а также искажение чего-н. А. световых лучей. А. оптических систем (искажение изображений). А. идей (перен.). 

АБЗАЦ, -а, м. 1. Красная строка, отступ в начале строки. Начать писать с абзаца. 2. Текст между двумя такими отступами. Прочесть первый а. 

АБИТУРИЕНТ, -а, м. 1. Выпускник средней школы (устар.). 2. Человек, поступающий в высшее или специальное учебное заведение. 

АБОНЕМЕНТ, -а, м. Документ, предоставляющий право на пользование чем-н., ка-кое-н. обслуживание, а также само такое право. А. в театр. А. на цикл лекций. Межбиблиотечный а. 

АБОНЕНТ, -а, м. Лицо, пользующееся абонементом, имеющее право на пользование чем-н. по абонементу. А. библиотеки. А. телефонной сети (лицо или учреждение, имеющее телефон). 

АБОРИГЕН, -а, м. (книжн.). Коренной житель страны, местности. 

АБОРИГЕННЫЙ, -ая, -ое. Относящийся к аборигенам, к их жизни, к местам их исконного обитания; такой, как у аборигенов. 

АБРАКАДАБРА, -ы, ж. Бессмысленный, непонятный набор слов [первонач.: таинственное персидское слово, служившее спасительным магическим заклинанием]. 

АБРЕК, -a, м. В период присоединения Кавказа к России: горец, участвовавший в борьбе против царских войск и администрации. 

АБРИКОС, -а,род.мн. -ов,м. Южное фруктовое дерево сем. розоцветных, дающее сочные сладкие плоды с крупной косточкой, а также плод его. 

АБРИКОСОВЫЙ, -ая, -ое. 1. см. абрикос. 2. Желто-красный, цвета спелого абрикоса. 

АБРИС, -а,м. (книжн.). Очертание предмета, контур. 

АБСОЛЮТ, -а, м. (книжн.). 1. В философии: вечная, неизменная первооснова всего существующего (дух, идея, божество). 2. Нечто самодовлеющее, независимое от каких-н. условий и отношений. Возвести что-н. в а. 

АБСОЛЮТИЗМ, -а, м. Форма правления, при к-рой верховная власть целиком принадлежит самодержавному монарху, неограниченная монархия. 

АБСОЛЮТНЫЙ, -ая, -ое; -тен, -тна. 1. полн. ф. Безусловный, ни от чего не зависящий, взятый вне сравнения с чем-н. Абсолютная величина действительного числа (в математике: само это число, взятое без знака + или -). А. нуль (температура в -273,15° С). А. чемпион (спортсмен - победитель в многоборье, в нек-рых других видах состязаний). 2. Совершенный, полный. А. покой. Он абсолютно (нареч.) прав. Абсолютное большинство (подавляющее большинство). Абсолютная монархия (самодержавие). А. слух (слух, точно определяющий высоту любого тона). 

АВАНГАРД, -а, м. 1. Часть войск (или флота), находящаяся впереди главных сил. 2. перен. Передовая, ведущая часть ка-кой-н. общественной группы. В авангарде демократического движения (впереди, в первых рядах). 

АВАНГАРДИЗМ, -а, м. 1. Стремление ка-кой-н. общественной группы к главенствующей роли в чем-н. 2. Общее название разных течений в искусстве 20 в., отходящих от реализма и ищущих новые формы художественного выражения. 

АВАНГАРДИСТ, -а, м. Сторонник авангардизма (во 2 знач.). 

АВАНС, -a, м. Деньги (или другие ценности), выдаваемые вперед в счет заработка, причитающихся кому-н. платежей. Получить а. А. в счет зарплаты. * Делать авансы кому (разг.) - стараться расположить заранее в свою пользу. 

АВАНТЮРА, -ы, ж. Рискованное и сомнительное дело, предпринятое в расчете на случайный успех. Безрассудная а. Пуститься в авантюры. Втянуть в авантюру кого-н. 

АВАНТЮРИЗМ, -а, м. Склонность к авантюрам. 

АВАНТЮРИСТ, -а, м. Беспринципный человек, занимающийся авантюрами. 

АВТОМАТ, -а, м. 1. Аппарат (машина, прибор, устройство), после включения самостоятельно выполняющий ряд заданных операций. Станки-автоматы. Игровые автоматы. Работать как а. (точно, ритмично). 2. Индивидуальное автоматическое стрелковое оружие с надевающимся штыком-ножом.

АВТОМАТИЗИРОВАТЬ, -рую, -руешь; -а-нный; сов. и несов., что. 1. Внедрить (-рять) автоматы (в 1 знач.) в производство. Автоматизированная система управления (АСУ). 2. Сделать (делать) автоматичным, автоматическим. А. движения. 

АВТОМАТИЗМ, -а, м. Механичность, непроизвольность действий, движений. 

АВТОМАТИКА, -и, ж. 1. Отрасль науки и техники, разрабатывающая теорию и методы автоматизации производственных процессов. 2. Совокупность механизмов, приспособлений, действующих автоматически. 

АВТОМАТИЧЕСКИЙ, -ая, -ое. 1. Являющийся автоматом или осуществляющийся с помощью автомата (в 1 знач.). А. тормоз. Дверь закрывается автоматически (нареч.). 2. Отличающийся автоматизмом, непроизвольный. Автоматическое движение. 

АВТОМАТИЧНЫЙ, -ая, -ое; -чен, -чна. То же, что автоматический (во 2 знач.). 

АВТОМАТЧИК, -а, м. 1. Рабочий, специалист, обслуживающий автомат, автоматическое устройство. 2. Боец, вооруженный автоматом (во 2 знач.). 

АВТОМОБИЛЬ, -я, м. Транспортное средство на колесном (реже полугусеничном или другом) ходу с собственным двигателем для перевозок по безрельсовым путям. Грузовой а. Легковой а. Гоночный а. Ездить на автомобиле (в автомобиле)."""

def parse_dictionary(text):
    terms = []
    lines = text.split('\n')
    
    for line in lines:
        line = line.strip()
        if line and ',' in line and line[0].isupper() and not line.startswith(' '):
            parts = line.split(',', 1)
            term = parts[0].strip()
            definition = parts[1].strip()
            terms.append((term, definition))
    
    return terms

def search_in_dictionary(terms, search_term, use_binary=True):
    if use_binary:
        return binary_search(terms, search_term)
    else:
        results = []
        for term, definition in terms:
            if term.lower().startswith(search_term.lower()):
                results.append((term, definition))
        return results

def main():
    terms = parse_dictionary(dictionary_text)
    
    
    print("\n1. НАИВНЫЙ АЛГОРИТМ:")
    test_text = "абонемент абориген абрикос аббревиатура"
    pattern = "або"
    positions = naive_search(test_text, pattern)
    print(f"Текст: '{test_text}'")
    print(f"Поиск: '{pattern}'")
    print(f"Найденные позиции: {positions}")
    print("\n2. БИНАРНЫЙ ПОИСК В СЛОВАРЕ:")
    search_terms = ["АБОН"]
    
    for search_term in search_terms:
        results = search_in_dictionary(terms, search_term, use_binary=True)
        
    for term, definition in results:
        print(f"  {term}: {definition[:80]}...")
    
    print("\n3. СРАВНЕНИЕ:")
    search_term = "АБ"
    
    binary_results = search_in_dictionary(terms, search_term, use_binary=True)
    naive_results = search_in_dictionary(terms, search_term, use_binary=False)
    
    print(f"Бинарный поиск найдено: {len(binary_results)} терминов")
    print(f"Наивный поиск найдено: {len(naive_results)} терминов")

if __name__ == "__main__":
    main()
